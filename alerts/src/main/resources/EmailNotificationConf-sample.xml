<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- The more specific criteria will override the more general one -->
<!-- If there are any conflict, for example, app1's default recipient is 1, level1's default recipient is 2, 
  When receive message( app=1, level=1 ), both the recipient 1 and 2 should receive email.
  Basically, app1's default recipient is 1 means receipt 1 care all the message from app1, no matter what level it is -->
<!-- overwritable: both the item section( emailContext, emailRecipient, emailMessage ) and refs have overwritable, 
overwritable if none of them is false -->  

<conf>
  <emailContext id="1">
    <smtpServer>localhost</smtpServer>
    <smtpPort>25</smtpPort>
    <sender>sender</sender>
    <password>password</password>
    <enableTls>true</enableTls>
    <overwritable>true</overwritable>  <!-- default is false -->
  </emailContext>

  <emailContext id="2">
    <smtpServer>server2</smtpServer>
    <smtpPort>25</smtpPort>
    <sender>sender2</sender>
    <password>password2</password>
    <enableTls>true</enableTls>
  </emailContext>

  <emailRecipient id="1">
    <to>to1</to>
    <to>to2</to>
    <cc>cc1</cc>
    <cc>cc2</cc>
    <bcc>bcc1</bcc>
    <bcc>bcc2</bcc>
    <overwritable>false</overwritable>  <!-- default is true -->
  </emailRecipient>

  <emailRecipient id="2">
    <to>to1</to>
    <to>to2</to>
    <cc>cc1</cc>
    <cc>cc2</cc>
    <bcc>bcc1</bcc>
    <bcc>bcc2</bcc>
  </emailRecipient>

  <emailMessage id="1">
    <subject>subject1</subject>
    <content>content1</content>
    <overwritable>false</overwritable>  <!-- default is true -->
  </emailMessage>

  <emailMessage id="2">
    <subject>subject2</subject>
    <content>content2</content>
  </emailMessage>

  <criteria>
    <emailContextRef overwritable="true">1</emailContextRef>
    <emailRecipientRef overwritable="false">1</emailRecipientRef>
    <emailMessageRef overwritable="false">1</emailMessageRef>
  </criteria>

  <criteria>
    <app>app1</app>
    <emailRecipientRef>2</emailRecipientRef>
  </criteria>

  <criteria>
    <level>1</level>
    <emailRecipientRef>1</emailRecipientRef>
  </criteria>

  <criteria>
    <app>app1</app>
    <app>app2</app>
    <level>1</level>
    <level>2</level>
    <emailRecipientRef>1</emailRecipientRef>
    <emailRecipientRef>2</emailRecipientRef>
  </criteria>
</conf>